<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="css/bootstrap.min.css">
</head>

<body>
		<form>
<div class="form-group">
<table>
<tr><td class="title">Name</td><td>
	<input class="form-control" type="text" id="name">
</td></tr>
<tr><td class="title">Link</td><td>
	<input class="form-control" type="text" id="link">
</td></tr>
<tr>
	<td></td><td style="text-align: right"><button class="btn success" type="submit" onclick="AddJob()">Add job</button></td>
</tr>
<tr>
	<td></td><td style="text-align: right"><button class="btn success" type="submit" onclick="GetJobs()">Get jobs</button></td>
</tr>
</table>
</div>
</form>
<br>
<div id="content">

</div>

<script>

function AddJob() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
		//alert(this.readyState)
        if (this.readyState == 4 && this.status == 200) {
            alert(this.responseText);
        }
    };

 	var name = document.getElementById("name").value;
	var link = document.getElementById("link").value;

    xhttp.open("POST", "/jobs?name=" + name + "&link=" + link, false);
    xhttp.setRequestHeader("Content-type", "application/json");
    xhttp.send("");
}

function GetJobs() {
	var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
		//alert(this.readyState)
        if (this.readyState == 4 && this.status == 200) {
			document.getElementById("content").innerHTML = this.responseText;
        }
    };

    xhttp.open("GET", "/jobs", false);
    xhttp.setRequestHeader("Content-type", "application/json");
    xhttp.send("");
}
</script>

<style>
.title
{
	font-weight: bold;
}
</style>

</body>
</html>
